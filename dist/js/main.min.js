const forms=[...document.querySelectorAll("form")],body=document.querySelector("body"),inputTel=[...document.querySelectorAll(".input-tel")],files={presentation:"Презентация Volna_Residence.pdf",plan:"План территории Volna Residences.pdf",album:"https://drive.google.com/drive/folders/1ZV0Wn8dpMVpJ_Vi0TvWwTMWS50pgOeCR",docs:"https://drive.google.com/drive/folders/1ZUCapcGLnM3ZCQrU_hiMIGHbpi_Jusz9"};function IsSafari(){var o=navigator.userAgent.toLowerCase();if(-1!=o.indexOf("safari"))return-1<o.indexOf("chrome")?"chrome":"safari"}const locationToFiles=o=>{"safari"!==IsSafari()&&(window.open("","","height=100%,width=100%").location.href=o),location.href="thank.html"},downloadPDF=a=>{const o=new Promise(o=>{let e=document.createElement("a");e.setAttribute("href",a),e.setAttribute("download",a),e.click(),o(a)});o.then(o=>{"safari"!==IsSafari()&&(window.open("","","height=100%,width=100%").location.href=o),location.href="thank.html"})},animateMainScreen=($.mask.definitions[9]=!1,$.mask.definitions[5]="[0-9]",$.mask.definitions[3]="9",$(".input-tel").mask("+7 (355) 555-5555"),$(".header__content-form").submit(function(o){o.preventDefault();o=$(this).serialize();return $.ajax({type:"POST",url:"submit.php",data:o,success:function(){console.log("send"),downloadPDF(files.presentation),$(".modal__form")[0].reset()},error:function(){console.log("fail")}}),!1}),$(".modal-plan__form").submit(function(o){o.preventDefault();o=$(this).serialize();return $.ajax({type:"POST",url:"submit.php",data:o,success:function(){console.log("send"),downloadPDF(files.plan),$(".modal__form")[0].reset()},error:function(){console.log("fail")}}),!1}),$(".modal-album__form").submit(function(o){o.preventDefault();o=$(this).serialize();return $.ajax({type:"POST",url:"submit.php",data:o,success:function(){console.log("send"),locationToFiles(files.album),$(".modal__form")[0].reset()},error:function(){console.log("fail")}}),!1}),$(".modal-purchase__form").submit(function(o){o.preventDefault();o=$(this).serialize();return $.ajax({type:"POST",url:"submit.php",data:o,success:function(){console.log("send"),location.href="thank.html",$(".modal__form")[0].reset()},error:function(){console.log("fail")}}),!1}),$(".header-modal__form").submit(function(o){o.preventDefault();o=$(this).serialize();return $.ajax({type:"POST",url:"submit.php",data:o,success:function(){console.log("send"),location.href="thank.html",$(".modal__form")[0].reset()},error:function(){console.log("fail")}}),!1}),$(".modal-safety__form").submit(function(o){o.preventDefault();o=$(this).serialize();return $.ajax({type:"POST",url:"submit.php",data:o,success:function(){console.log("send"),$(".modal__form")[0].reset(),locationToFiles(files.docs)},error:function(){console.log("fail")}}),!1}),$(".modal-contacts__form").submit(function(o){o.preventDefault();o=$(this).serialize();return $.ajax({type:"POST",url:"submit.php",data:o,success:function(){console.log("send"),downloadPDF(files.presentation),$(".modal__form")[0].reset()},error:function(){console.log("fail")}}),!1}),()=>{const a=o=>{o?($(".burger").removeClass("burger--active"),$(".menu--sm").removeClass("menu--active"),$("body").css("overflow","visible")):($(".burger").addClass("burger--active"),$(".menu--sm").addClass("menu--active"),$("body").css("overflow","hidden"))};$(".header").on("click",o=>{const e=$(o.target);e.hasClass("menu__list-link")?(o.preventDefault(),body.style.overflow="visible",a(!0),o=e,o=$(o).attr("href"),$("html, body").animate({scrollTop:$(o).offset().top},{duration:1e3,easing:"linear"})):e.hasClass("burger")||e.hasClass("burger__span")?$(".menu").hasClass("menu--active")?a(!0):a(!1):e.hasClass("header__top-btn")})}),modalLogic=o=>{const e=$(o.modal),a=$(o.closeIcon),t=$(o.openButton),l=$(".modal-close-bg");var n;const s=(o,e)=>{o?(e.addClass("active"),$("body").css("overflow","hidden"),l.addClass("active")):(e.removeClass("active"),$("body").css("overflow","visible"),l.removeClass("active"))};t.on("click",o=>{o.preventDefault(),s(!0,e)}),a.on("click",o=>{o.preventDefault(),s(!1,e)}),n=e,l.on("click",o=>{n.removeClass("active"),$("body").css("overflow","visible"),l.removeClass("active")})},toggleModals={modalPlan(){modalLogic({modal:".modal-plan",closeIcon:".modal-plan__close",openButton:".download-plan-btn"})},modalAlbum(){modalLogic({modal:".modal-album",closeIcon:".modal-album__close",openButton:".album__button"})},modalPurchase(){modalLogic({modal:".modal-purchase",closeIcon:".modal-purchase__close",openButton:".purchase__btn"})},modalSafety(){modalLogic({modal:".modal-safety",closeIcon:".modal-safety__close",openButton:".safety__btn"})},modalContacts(){modalLogic({modal:".modal-contacts",closeIcon:".modal-contacts__close",openButton:".contacts__btn"})},modalHeader(){modalLogic({modal:".header-modal",closeIcon:".header-modal__close",openButton:".header__top-btn"})},modalHeaderPresentation(){modalLogic({modal:".header__content-form",closeIcon:".header-modal__close",openButton:".header__content-button"})}};animateMainScreen(),toggleModals.modalPlan(),toggleModals.modalAlbum(),toggleModals.modalPurchase(),toggleModals.modalSafety(),toggleModals.modalContacts(),toggleModals.modalHeader(),toggleModals.modalHeaderPresentation();